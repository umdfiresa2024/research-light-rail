---
title: "Make time plots"
format: html
editor: visual
---

## Charlotte

```{r}
pm<-read.csv("daily roads/panel_updated.csv")
cgroup<-c("Charlotte, NC", 
          "Greenville, SC", 
          "Winston-Salem, NC")

pm_month<-pm |>
  group_by(Address, month, year) |>
  summarise(pm25=mean(pm25)) |>
  filter(Address %in% cgroup) |>
  mutate(date=as.Date(paste0(as.character(year),"-",
                             as.character(month),"-",
                             "01"), "%Y-%m-%d"))

maxdate<-max(pm_month$date)

png("Presentation/images/nc_time.png")
ggplot(data=pm_month, aes(y=pm25, x=date, col=Address)) + 
  geom_line(size=1) + 
  scale_color_manual(values=c("grey","black","#FFCD00", "#c8102e"))+
  geom_vline(aes(xintercept=as.Date("2007-11-01"), col=" LR Opening"), 
             linetype="dashed", size=1)+
  annotate("rect", xmin = as.Date("2005-01-01"), xmax = as.Date("2007-11-01"), 
           ymin = 0, ymax = 25, alpha = .5,fill = "grey")+
  annotate("rect", xmin = as.Date("2012-12-01"), xmax = maxdate, 
           ymin = 0, ymax = 25, alpha = .5,fill = "grey")+
  theme_bw() + 
  ylab("PM2.5 (in ug/m3)") + 
  xlab("Date") + 
  ggtitle("PM2.5 in Charlotte and Seleted Control Cities")
dev.off()
```

## Houston

```{r}
#| echo: false
2 * 2
```

The `echo: false` option disables the printing of code (only output is displayed).
